<project name="atomikos" default="all" basedir=".">
        <property file="build.properties"/>

        <path id="classpath">
                <fileset dir="${lib.dir}"/>
                <fileset dir="." />
        		<fileset dir="${dist.dir}"/>
				<fileset dir="${demo.lib.dir}"/>
        </path>

        <target name="clean">
        <delete>
                <fileset dir="." includes="**/*" 
		excludes="**/*.TXT,**/*.epoch,**/*.xml,**/*.java,**/*.sh,**/*.bat,**/build.*,**/*jta.properties,**/*.txt"/>
        </delete>
        </target>

        <target name="compile" >
        <echo>Compiling module with DEBUG flag set to: ${debug}</echo>
        <javac srcdir="." debug="${debug}" 
                includes="**/*.java"
        >
                <classpath refid="classpath"/>
        </javac>
        </target>
	
	<target name="rmic">
	<rmic classpathref="classpath" 
		iiop="true"  base="." includes="**/*ServerImp.class" />
	</target>

        <target name="all" depends="clean,compile,rmic"/>
</project>
